(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{245:function(t,a,e){"use strict";e.r(a);var r=e(6),v=Object(r.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"http缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http缓存"}},[t._v("#")]),t._v(" http缓存")]),t._v(" "),e("h2",{attrs:{id:"max-age"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#max-age"}},[t._v("#")]),t._v(" max-age")]),t._v(" "),e("ul",[e("li",[t._v("是距离请求发起的秒数")])]),t._v(" "),e("h2",{attrs:{id:"expire"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#expire"}},[t._v("#")]),t._v(" expire")]),t._v(" "),e("p",[t._v("Expires "),e("strong",[t._v("响应头")]),t._v('包含日期/时间， 即在此时候之后，响应过期\n如果在Cache-Control响应头设置了 "max-age" 或者 "s-max-age" 指令，那么 Expires 头会被忽略。')]),t._v(" "),e("h2",{attrs:{id:"catch-control"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#catch-control"}},[t._v("#")]),t._v(" catch-control")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("no-store:缓存中"),e("strong",[t._v("不")]),t._v("得存储任何关于客户端请求和服务端响应的内容。每次由客户端发起的请求"),e("strong",[t._v("都会下载")]),t._v("完整的响应内容。")])]),t._v(" "),e("li",[e("p",[t._v("no-catch:每次发送请求都会将此请求发送到服务器，"),e("strong",[t._v("验证")]),t._v("请求中描述的缓存是否过期 revalidate")])]),t._v(" "),e("li",[e("p",[t._v("private： 中间人不能缓存此响应，响应只能用于浏览器私有缓存")])]),t._v(" "),e("li",[e("p",[t._v("public： 默认是private，可以被中间人（CDN，代理服务器）缓存")])]),t._v(" "),e("li",[e("p",[t._v("max-age：max-age是距离请求发起的时间的秒数。针对应用中那些不会改变的文件，通常可以手动设置一定的时长以保证缓存有效，例如图片、css、js等静态资源。")])]),t._v(" "),e("li",[e("p",[t._v("must-revalidate：缓存在考虑使用一个陈旧的资源时，必须先验证它的状态，已过期的缓存将不被使用。当缓存的文档过期后，需要进行缓存验证或者重新获取资源。只有在服务器返回强校验器或者弱校验器时才会进行验证。"),e("strong",[t._v("前提就是这个缓存必须已经过期")]),t._v("\n正常的情况不管有没有must-revalidate都会验证，但是must-revalidate是用来强制处理特殊场景：")])])]),t._v(" "),e("blockquote",[e("p",[t._v("允许客户端在某些特殊情况下直接使用过期缓存的，比如校验请求发送失败的时候，还比如有配置一些特殊指令（stale-while-revalidate、stale-if-error等）的时候，"),e("strong",[t._v("阻止返回过期缓存")])])]),t._v(" "),e("p",[t._v("浏览器的后退前进功能。当点击 back/forwrad 按钮时，浏览器会尽量用本地缓存来重新打开页面，即便缓存已经过期了，也不会 revalidate")])])}),[],!1,null,null,null);a.default=v.exports}}]);