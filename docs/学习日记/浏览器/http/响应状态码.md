# 响应状态码

## 100 Continue

1. 客户端与 100 Continue
   如果客户端在向服务器发送一个实体，并且愿意在发送实体之前等待 100 Continue 响应，那么，客户端就要发送一个携带值为 100 Continue Expect 首部，因为这样会使服务器误以为客户端要发发送一个实体。从很多方面来看，100 Continue 都是一种优化。客户端应用程序只有在避免向服务器发送一个服务器无法处理或使用的大实体时，才应该使用 100 Continue。
   由于期初对 100 Continue 状态存在一些困惑，因此发送了值为 100 Continue 的 Expect 首部的客户端不应该永远在那儿等待服务器发送 100 Continue 响应。超时一定时间之后，客户端应该直接将实体发送出去。

2. 服务器与 100 Continue
   如果服务器收到了一条带有值为 100 Continue 的 Expect 首部的请求，它会用 100 Continue 响应或一条错误码来进行响应。服务器永远也不应该向没有发送 100 Continue 期望的客户端发送 100 Continue 状态码 (有些出错的服务器可能会这么做)。如果出于某种原因，服务器在优机会发送 100 Continue 响应之前就收到了部分或全部的实体，就说明客户端已经决定继续发送数据了，这样，服务器就不需要发送这个状态码了。服务器读完请求之后，还是应该为请求发送一个最终状态码 (它可以跳过 100 Continue 状态)。
   最后，如果服务器收到带有 100 Continue 期望的请求，而且它决定在读取实体的主体部分结束请求，就不应该仅仅是发送一条响应并关闭连接，因为这样会妨碍客户端接收响应。

3. 代理与 100 Continue
   如果代理从客户端收到了一条带有 100 Continue 期望的请求，它需要做几件事情。如果代理知道目标服务器是 HTTP/1.1 兼容的，或者并不知道目标服务器与哪个版本兼容，它都应该将 Expect 首部发在请求中向下转发。如果它知道目标服务器只能与 HTTP/1.1 之前的版本兼容，就应该以 417 Expectation Failed 错误进行响应。

## 101 Switching Protocol

协议切换，表示服务器应客户端升级协议的请求（Upgrade: example/1, foo/2 请求头）

比如: open with live server 时控制台显示的 ws 请求
new WebSocket("ws://localhost:5055");

## 103 Early Hints

103 Early Hints 信息状态响应码，一般和 Link header（首部）一起使用，来允许用户在服务器还在准备响应数据的时候预加载一些资源。

> Link: <https://example.com>; rel="preload" 头部

## 200 OK

默认情况下状态码为 200 的响应可以被缓存

不同请求对于 200 的响应不一样：

- GET: 已经取得资源，并将资源添加到响应的消息体中
- HEAD: 响应的消息体为头部
- POST: 响应的消息体中包含此次请求的结果
- TRACE: 响应的消息体中包含服务器接收到的请求信息

PUT 和 DELETE 成功的响应不是 200 OK

## 201 Created

201 代表一次成功的应答，表示请求已被成功处理，并且创建了新的资源，新的资源在应答返回之前已经被创建，同时新增的资源会在应答消息体中返回，其地址或者是原始请求的路径，或者是 location 首部的值

常用作 POST 请求的返回值

## 202 Accepted

202 表示服务器端已经收到请求消息，但是尚未进行处理。但是对于请求的处理确实无保证的。
接受但为处理，常是交由另一个进程或者服务器处理

## 203 Non-Authoritative Information

203 表示请求已经被响应，但是获得的负载与源头服务器的状态码为 200，但经过代理服务器的处理

## 204 No Content

204 成功状态码，表示请求成功了，但是客户端客户不需要离开当前页面，默认情况下 204 响应是可缓存的 1，一个 ETag 表头包含此响应中。
如：put 更新数据，但用户界面不需要展示改变的，就响应 204

## 205 Reset Content

205 通知客户端重置文档视图，比如清空表单，重置 canvas

## 206 Partial Content

206 请求成功，主体包含所请求的数据区间，该数据区间在请求头的 Range 首部指定的。
如果只包含一个数据区间，那么整个响应的 Content-Type 首部的值为所请求的文件的类型，同时包含 Content-Range 首部

## 300 Multiple Choices

300 表示重定向，表示该请求拥有多种可能的响应。用户代理或者用户自身应该从中选择一个。如果服务器可以提供一个优先选择，那么它应该生成一个 Location 首部

## 301 moved Permanently

301 永久重定向说明请求的资源已经被移动到了由 Location 头部指定的 url 上，是固定的不会在改变。搜索引擎会根据该响应修正。最好是在应对 GET 或 HEAD 方法时使用 301。

应用： - 网站更换域名 - 删除网站中的不合理无意义的目录 - 闲置域名 - URL 规范化 - SEO

## 302 Found

表示请求的资源暂时被移动到了由该 http 响应头 location 指定的 URL 上，浏览器会重定向到这个 URL，但是搜索引擎不会对该连接的资源进行更新，最好用 GET/HEAD,否则使用 307 temporary Redirect,只有在 Cache-Control 或 Expires 中进行了指定的情况下，这个响应才是可缓存的

## 303 See Other

303 通常作为 put 或 post 操作的返回结果，它表示重定向连接指向的不是新上传的资源，而是另外一个页面。

## 304 Not Modified

304 使用缓存内容，例如在 GET 或 HEAD 请求头中附带了 If-None-Match 或 If-Modified-Since

| 服务端        | 客户端            |
| ------------- | ----------------- |
| last-modified | if-modified-since |
| ETAG          | if-none-match     |

## 307 Temporary Redirect

状态码 307 与 302 之间的唯一区别在于，当发送重定向请求的时候，307 状态码可以确保请求方法和消息主体**不会发生变化**。
302 是非 GET 请求在重定向后不可预估请求方法。

## 308 Permanent Redirect

308 Permanent Redirect（永久重定向）是表示重定向的响应状态码，说明请求的资源已经被永久的移动到了由 Location 首部指定的 URL 上。浏览器会进行重定向，同时搜索引擎也会更新其链接.
在重定向过程中，请求方法和消息主体不会发生改变，然而在返回 301 状态码的情况下，请求方法有时候会被客户端错误地修改为 GET 方法。

## 400 Bad Request

响应状态码表示由于语法无效，服务器无法理解该请求。 客户端不应该在未经修改的情况下重复此请求。

## 401 Unauthorized

401 Unauthorized 代表客户端错误，指的是由于缺乏目标资源要求的身份验证凭证，发送的请求未得到满足

## 402 Payment Required

客户端付费之后请求才会被处理

## 403 Forbidden

403 Forbidden 代表客户端错误，拒绝授权访问，重新验证之后也不会改变，该访问是长期禁止的。

## 404 Not Found

404 状态码并不能说明请求的资源是临时还是永久丢失。

## 405 Method Not Allowed

状态码 405 Method Not Allowed 表明服务器禁止了使用当前 HTTP 方法的请求。

## 406 Not Acceptable

406 Not Acceptable 状态码表示客户端错误，指代服务器端无法提供与 Accept-Charset 以及 Accept-Language 消息头指定的值相匹配的响应。

## 407 Proxy Authentication Required

407 Proxy 代表客户端错误，指的是由于缺乏位于浏览器与可以访问所请求资源的服务器之间的代理服务器

## Request Timeout

408 Request Timeout 表示服务器想要将没有在使用的连接关闭。一些服务器会在空闲连接上发送此信息，即便是在客户端没有发送任何请求的情况下。

## 409 Conflict

当上传文件的版本比服务器上已存在的要旧，从而导致版本冲突的时候，那么就有可能收到状态码为 409 的响应。

## 500 Internal Server Error

500 Internal Server Error 是表示服务器端错误的响应状态码，意味着所请求的服务器遇到意外的情况并阻止其执行请求。

## 501 Not Implemented

表示请求的方法不被服务器支持

> 501 响应默认是可缓存的。

## 502 Bad Gateway

它表示作为网关或代理角色的服务器，从上游服务器（如 tomcat、php-fpm）中接收到的响应是无效的。

## 504 Gateway Timeout

表示扮演网关或者代理的服务器无法在规定的时间内获得想要的响应。

Gateway （网关）在计算机网络体系中可以指代不同的设备，504/502
错误通常不是在客户端可以修复的，而是需要由途径的 Web 服务器或者代理服务器对其进行修复。
