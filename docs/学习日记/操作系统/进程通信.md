# 进程通信

1. 匿名管道
只用于具有继承关系的进程，非继承关系无法找到这个管道，有继承的是通过fork出来的，父子进程可以获得管道。

2. 命名管道
可以使得不相关的进程间进行通信。只要程序知道命名管道的名字，发送到命名管道里的信息可以被一切拥有指定权限的程序度取。

3. 消息队列
让操作系统维护一块数据，然后各个进程通过key来换取一个id,后续通过id进行消息的存取。每个消息体式固定大小的存储块，不像管道是无格式的字节流数据。消息队列生命周期随内核，如果没有释放消息队列或者关闭操作系统，消息队列会一直存在，而**匿名管道**是随进程的创建而建立，进程的结束而销毁。
不足：
不适合比较大数据的传输。
存在用户态与内核态之间的数据拷贝开销，因为进程写入内核中的消息队列时，会发生从用户态拷贝数据到内核的，同时又会有另一个进程从内核态读取到用户态中。

4. 共享内存
消息队列的读取与写入，会发生用户态和内核态之间的消息拷贝过程。
共享内存就是拿出一块虚拟地址空间，映射到相同的物理内存中。这样一个进程写入的东西另一个进程马上就能看到，所以说这种方式是最快的。

5. 信号量
共存内存存在同时修改同一内存的冲突，为了防止进程竞争共享资源，而造成数据错乱，信号量就作为一种保护机制，标识资源的数量，控制信号量的原子操作有:
P操作：信号量-1，如果信号量< 0，表示资源被占用，需进行阻塞等待。
V操作：信号量+1，表示资源的释放。

6. 信号
给进程发送信号，如kill -9 1050给PID为1050的进程发送SIGKILL信号。
信号是进程间通信机制中唯一的异步通信机制。

7. SOCKET
跨网络与不同主机上（也可以同主机）的进程之间通信。
